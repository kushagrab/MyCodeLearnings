#include <iostream>
#include <bits/stdc++.h>
#include <vector>
#include <unordered_set>
#include <algorithm>
using namespace std;

//O(n3*log(n))
vector<vector<int>> TripletSUM_BruteForce(vector<int> nums)
{
    set<vector<int>> uniqueRes;
    for(int i=0;i<=nums.size()-3;i++)
    {
        for(int j=i+1;j<nums.size()-1;j++)
        {
            for(int k=j+1;k<nums.size();k++)
            {
                if(nums[i] + nums[j] + nums[k] == 0)
                {
                    vector<int> temp = {nums[i],nums[j],nums[k]};
                    sort(temp.begin(),temp.end());
                    uniqueRes.insert(temp);
                }
            }
        }
    }
    
    vector<vector<int>> ans(uniqueRes.begin(),uniqueRes.end());
    return ans;
}

//O(n2*log(n))
vector<vector<int>> TripletSUM_Hashing(vector<int> nums)
{
    set<vector<int>> uniqueRes;
    for(int i=0;i<nums.size();i++)
    {
        set<int> rem;
        for(int j=i+1;j<nums.size();j++)
        {
            int diff = -(nums[i]+nums[j]);
            if(rem.find(diff) != rem.end())
            {
                vector<int> temp = {nums[i],nums[j],diff};
                sort(temp.begin(),temp.end());
                uniqueRes.insert(temp);
            }
            
            rem.insert(nums[j]);
        }
    }
    
    vector<vector<int>> ans(uniqueRes.begin(),uniqueRes.end());
    return ans;    
}

vector<vector<int>> TripletSUM_2PointerApproach(vector<int> nums)
{
    int n = nums.size();
    sort(nums.begin(),nums.end());
    vector<vector<int>> ans;
    for(int i=0;i<n;i++)
    {
        if(nums[i]>0) 
        if(i>0 && nums[i] == nums[i-1]) { continue; } 
        int j=i+1;
        int k=n-1;
        while(j<k)
        {
            int sum = nums[i] + nums[j] + nums[k];
            if(sum < 0) 
            {    
                j++; 
            }
            else if(sum > 0) 
            {    
                k--; 
            }
            if(sum == 0) 
            {
                vector<int> temp = {nums[i],nums[j],nums[k]};
                ans.push_back(temp);
                j++;
                k--;
                while(j<k && nums[j] == nums[j-1]) { j++; }
                while(j<k && nums[k] == nums[k+1]) { k--; }
            }      
        }
    }
    
    return ans;
}

int main()
{
    vector<int> nums = {-1,0,1,2,-1,-4};
    vector<vector<int>> triplet = TripletSUM_BruteForce(nums);
    vector<vector<int>> triplet1 = TripletSUM_Hashing(nums);
    vector<vector<int>> triplet2 = TripletSUM_2PointerApproach(nums);
    
    for (auto &triplet : triplet) {
        for (auto &num : triplet) cout << num << " ";
        cout << endl;
    }
    
    for (auto &triplet : triplet1) {
        for (auto &num : triplet) cout << num << " ";
        cout << endl;
    }
    
    for (auto &triplet : triplet2) {
        for (auto &num : triplet) cout << num << " ";
        cout << endl;
    }
}

